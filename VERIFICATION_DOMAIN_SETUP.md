# Настройка домена верификации через переменные окружения

## Проблема

На serverless окружениях (Vercel) файловая система доступна только для чтения, поэтому нельзя сохранять данные в файлы.

## Решение

Используем переменную окружения `VERIFICATION_DOMAIN` для хранения домена.

## Настройка на Vercel

### Способ 1: Через Dashboard (рекомендуется)

1. Зайдите в проект на Vercel
2. Перейдите в **Settings** → **Environment Variables**
3. Добавьте новую переменную:
   - **Key:** `VERIFICATION_DOMAIN`
   - **Value:** `createsync.help` (или другой домен)
   - **Environment:** Выберите Production, Preview, Development (или нужные)
4. Нажмите **Save**
5. **Пересоберите проект** (Deployments → ... → Redeploy)

### Способ 2: Через Vercel CLI

```bash
vercel env add VERIFICATION_DOMAIN
# Введите значение: createsync.help
# Выберите окружения: production, preview, development
```

Затем пересоберите проект:
```bash
vercel --prod
```

### Способ 3: Через Telegram бота (автоматически)

Если настроены переменные окружения:
- `VERCEL_TOKEN` - токен Vercel API
- `VERCEL_PROJECT_ID` - ID проекта Vercel
- `VERCEL_TEAM_ID` - ID команды (опционально)

То бот автоматически обновит переменную через API при команде `/changedomain <домен>`

**Как получить VERCEL_TOKEN:**
1. Зайдите на https://vercel.com/account/tokens
2. Создайте новый токен
3. Скопируйте его

**Как получить VERCEL_PROJECT_ID:**
1. Зайдите в проект на Vercel
2. Перейдите в Settings → General
3. Скопируйте **Project ID**

**Как получить VERCEL_TEAM_ID (если используете команду):**
1. Зайдите в настройки команды
2. Скопируйте **Team ID** из URL или настроек

## Изменение домена через бота

После настройки переменных окружения:

1. Отправьте боту: `/changedomain createsync.click`
2. Бот обновит переменную окружения через Vercel API
3. **Важно:** После обновления нужно пересобрать проект вручную или настроить автоматический redeploy

## Проверка текущего домена

Отправьте боту: `/domain` или `/changedomain`

Бот покажет текущий домен из переменной окружения.

## Важно!

- ✅ Переменная окружения `VERIFICATION_DOMAIN` должна быть установлена
- ✅ После изменения переменной нужно пересобрать проект
- ✅ Если используете автоматическое обновление через бота, убедитесь что установлены `VERCEL_TOKEN` и `VERCEL_PROJECT_ID`
